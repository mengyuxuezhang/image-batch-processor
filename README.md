# 图片去重批量处理工具

一个功能强大的图片批量处理工具，支持多种图片处理效果，包括基础调整、高级滤镜、几何变换等功能，特别适用于图片去重和批量处理场景。

![1761833511875](C:\Users\lijie\AppData\Roaming\Typora\typora-user-images\1761833511875.png)

## 功能特性

### 基础功能
- **水印添加**：支持自定义文字水印
- **亮度调节**：调整图片明暗程度
- **对比度调节**：增强或减弱图片对比度
- **饱和度调节**：调整色彩鲜艳程度
- **锐化处理**：增强图片清晰度
- **模糊效果**：添加高斯模糊效果
- **尺寸调整**：按比例缩放图片大小
- **图片裁剪**：按百分比裁剪图片边缘
- **边框添加**：为图片添加边框
- **噪点添加**：添加随机噪点效果
- **镜像处理**：支持水平和垂直镜像
- **元数据删除**：清除图片EXIF等元数据信息

### 高级功能
- **几何变换**：
  - 轻微旋转
  - 透视调整
- **色彩调整**：
  - 色相调整
  - 色温调整
  - 色彩平衡（RGB三色独立调整）
  - 黑白转换（多种算法）
- **光影效果**：
  - 阴影/高光调整
  - 局部亮度调整
  - 渐变映射
  - 曝光度调整
- **高级滤镜**：
  - 智能锐化
  - 降噪处理
  - 胶片颗粒效果
  - 细节增强
- **特殊效果**：
  - 色差效果
  - 暗角效果
  - 柔光效果
  - 纹理叠加

### 用户界面
- **标准版GUI**：简洁直观的操作界面
- **预览版GUI**：支持实时预览处理效果
- **批量处理**：支持文件夹批量处理
- **进度显示**：实时显示处理进度和日志
- **设置保存**：自动保存用户配置

## 技术架构

### 核心组件
- **ImageProcessor类**：核心图片处理引擎
- **ImageProcessorGUI类**：标准版图形界面
- **ImageProcessorPreviewGUI类**：预览版图形界面
- **ImageProcessingThread类**：多线程处理支持

### 依赖库
- PyQt5 >= 5.15.0：图形用户界面框架
- Pillow >= 9.0.0：图像处理库
- numpy >= 1.21.0：数值计算库
- opencv-python >= 4.5.0：计算机视觉库

## 安装说明

### 环境要求
- Python 3.7+
- Windows操作系统（已测试）

### 安装步骤

1. 克隆或下载项目代码
```bash
git clone <repository-url>
cd 定制-图片去重批量处理
```

2. 创建并激活虚拟环境
```bash
python -m venv .venv
.venv\Scripts\activate
```

3. 安装依赖
```bash
pip install -r requirements.txt
```

### 运行程序

#### 标准版（无预览功能）
```bash
python image_processor_gui.py
```

#### 预览版（支持实时预览）
```bash
python image_processor_gui_preview.py
```

### 打包为可执行文件

项目已提供PyInstaller配置文件，可以打包为独立可执行文件：

```bash
# 打包预览版
python build_preview_gui.py
```

打包后的可执行文件位于 `dist` 目录下。

## 使用说明

### 基本操作流程

1. **选择输入文件夹**：点击"选择输入文件夹"按钮，选择包含待处理图片的文件夹
2. **选择输出文件夹**：点击"选择输出文件夹"按钮，选择处理结果保存位置
3. **配置处理参数**：在左侧选项卡中勾选需要的处理效果，并调整参数
4. **预览效果**（仅限预览版）：点击"选择预览图片"按钮，选择一张图片进行效果预览
5. **开始处理**：点击"开始处理"按钮，开始批量处理图片
6. **查看结果**：处理完成后，在输出文件夹中查看处理后的图片

### 参数说明

#### 基础功能参数
- **水印文字**：添加到图片上的文字内容
- **亮度**：调节范围0.5-1.5，1.0为原始亮度
- **对比度**：调节范围0.5-1.5，1.0为原始对比度
- **饱和度**：调节范围0.0-2.0，1.0为原始饱和度
- **锐化**：调节范围0.0-2.0，1.0为原始锐度
- **模糊**：调节范围0.0-5.0，0.0为无模糊
- **尺寸**：调节范围0.1-2.0，1.0为原始尺寸
- **裁剪**：调节范围0-30%，表示从各边裁剪的百分比

#### 高级功能参数
- **旋转角度**：调节范围-45°到45°
- **透视调整**：调节范围-0.5到0.5
- **色相**：调节范围-180°到180°
- **色温**：调节范围-100到100，正值偏暖，负值偏冷
- **色彩平衡**：RGB三色独立调节，范围0.5-1.5

## 项目结构

```
定制-图片去重批量处理/
├── image_processor.py              # 核心图片处理模块
├── image_processor_gui.py          # 标准版GUI界面
├── image_processor_gui_preview.py  # 预览版GUI界面
├── requirements.txt                # 项目依赖
├── image_processor_settings.json   # 默认配置文件
├── build_preview_gui.py            # 打包脚本
├── 图片处理器预览版.spec           # PyInstaller配置
├── build/                          # 打包临时文件
├── dist/                           # 打包输出目录
└── README.md                       # 项目说明文档
```

## 开发说明

### 添加新的图片处理功能

1. 在 `ImageProcessor` 类中添加新的处理方法
2. 在GUI类中添加对应的控件和事件处理
3. 更新配置文件结构（如需要）
4. 更新README文档

### 自定义打包配置

修改 `图片处理器预览版.spec` 文件或 `build_preview_gui.py` 脚本来自定义打包配置。

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 贡献指南

欢迎提交Issue和Pull Request来改进项目。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交Issue：[GitHub Issues](link-to-issues)
- 邮箱：[mengyuxuezhang@163.com]

## 更新日志

### v1.0.0
- 初始版本发布
- 实现基础图片处理功能
- 实现高级图片处理功能
- 提供标准版和预览版GUI界面
- 支持批量处理和实时预览